{% extends "base.html" %}

{% block title %}Fabrications - Products{% endblock %}

{% block content %}
<div class="glass-container">
    <h1 class="page-title">Fabrications</h1>
    <p class="page-subtitle">Custom fabrication products including furniture and more</p>
    
    <div style="text-align: center; margin-bottom: 1.5rem;">
        <button class="btn-secondary" onclick="window.location.href='{{ url_for('national_scaffoldings') }}'" style="background: linear-gradient(135deg, #1e3a8a, #d4af37); padding: 0.8rem 2rem; font-size: 1rem;">
            ğŸ—ï¸ Go to National Scaffolding
        </button>
    </div>
    
    <p style="text-align: center; color: #ffa500; margin-bottom: 2rem;">
        For inquiries, contact us at: <strong>+91 1234567890</strong>
    </p>
    
    <div class="product-grid">
        {% for product in products %}
        <div class="product-card" onclick="window.location.href='{{ url_for('product_detail', product_id=product.id) }}'" style="cursor: pointer;">
            {% if product.image_url %}
            <img src="{{ product.image_url }}" alt="{{ product.name }}" style="width: 100%; height: 200px; object-fit: cover; border-radius: 8px; margin-bottom: 1rem;">
            {% else %}
            <div style="background: rgba(255, 165, 0, 0.2); height: 200px; display: flex; align-items: center; justify-content: center; border-radius: 8px; margin-bottom: 1rem;">
                <span style="font-size: 3rem;">ğŸ”§</span>
            </div>
            {% endif %}
            <h3>{{ product.name }}</h3>
            <p style="min-height: 60px;">{{ product.description[:100] }}{% if product.description|length > 100 %}...{% endif %}</p>
            <div class="product-price">â‚¹{{ product.price }}</div>
            
            {% if current_user.is_authenticated and session.get('user_type') != 'admin' %}
            <button class="btn-primary" onclick="event.stopPropagation(); window.location.href='{{ url_for('product_detail', product_id=product.id) }}'">
                View Details
            </button>
            {% elif not current_user.is_authenticated %}
            <p style="color: #ff6b6b; text-align: center;">Please login to view details</p>
            {% endif %}
        </div>
        {% endfor %}
    </div>
</div>

{% if current_user.is_authenticated and session.get('user_type') != 'admin' %}
<button class="view-cart-btn" onclick="window.location.href='{{ url_for('cart') }}'">
    ğŸ›’ View Cart
</button>
{% endif %}
{% endblock %}

{% block scripts %}
{% endblock %}
